<div class="spacer-top" id="spacerTop"></div>
<div class="row recipe-list-main-row">
    <div data-ng-class="filterIsVisible ? 'col-md-4' : 'col-md-4 collapsed-left'" style="padding: 0px; transition: margin 0.2s ease;" ng-include src="'recipe-mgmt/html/recipe-filter.html'">
    </div>
    <div data-ng-class="(filterIsVisible || sidebarIsVisible) ? 'col-md-8' : 'col-md-12'" style="padding: 0px; padding-right: 15px; padding-left: 15px; transition: width 0.2s ease;">
        <nav class="navbar navbar-default recipe-list-toolbar" id="recipeListToolbar">
            <div class="container-fluid">
                <div class="navbar-header">
                    <span class="navbar-brand" translate>RECIPE_MGMT.RECIPES</span>
                </div>
                <form class="navbar-form navbar-left" role="search">
                    <div class="input-group" translate>
                        <input type="text" class="form-control" placeholder="{{'RECIPE_MGMT.SEARCH' | translate}}" ng-model="search.searchString" ng-keypress="searchEnter($event)" ng-change="reloadRecipes()">
                        <span class="input-group-btn">
                            <button class="btn btn-default" type="button" ng-click="reloadRecipes()">
                                <span class="glyphicon glyphicon-search" aria-hidden="true" aria-label="{{'RECIPE_MGMT.SEARCH' | translate}}"></span>
                            </button>
                        </span>
                    </div>
                </form>
                <div class="btn-group navbar-btn" role="group" aria-label="..." style="margin-right: 5px;">
                    <button type="button" class="btn btn-default" aria-label="Show/Hide Filter"
                            ng-click="toggleFilterbar();">
                        <span class="glyphicon glyphicon-filter" aria-hidden="true"></span>
                    </button>
                </div>
                <div class="pull-right">
                    <button type="button" class="btn btn-default navbar-btn btn-primary"  style="margin-right: 5px;" aria-label="Add recipe" ng-click="openEdit(null);" translate>RECIPE_MGMT.ADD</button>
                    <ul class="nav navbar-nav pull-right">
                        <li class="dropdown" dropdown>
                            <a class="dropdown-toggle"
                               dropdown-toggle
                               data-toggle="dropdown"
                               role="button"
                               aria-haspopup="true"
                               aria-expanded="false">{{numPerPage == totalItems ? '' : numPerPage}} <span translate>{{numPerPage == totalItems ? 'RECIPE_MGMT.ITEMS_ALL' : 'RECIPE_MGMT.ITEMS'}}</span> <span class="caret"></span>
                            </a>
                            <ul class="dropdown-menu" role="menu">
                                <li><a data-ng-click="setNumPerPage(1);">1 <span translate>RECIPE_MGMT.ITEMS</span></a></li>
                                <li><a data-ng-click="setNumPerPage(3);">3 <span translate>RECIPE_MGMT.ITEMS</span></a></li>
                                <li><a data-ng-click="setNumPerPage(5);">5 <span translate>RECIPE_MGMT.ITEMS</span></a></li>
                                <li role="separator" class="divider"></li>
                                <li><a data-ng-click="setNumPerPage(totalItems);" translate>RECIPE_MGMT.ITEMS_ALL</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <div class="list-group panel panel-default recipe-list-container" recipe-list-max-height>
            <div class="row list-group-item recipe-list-group-item"
                 data-ng-repeat="recipe in recipesList"
                 data-ng-click="selectRecipe(recipe, false)"
                 data-ng-dblclick="openEdit(recipe)"
                 data-ng-class="selectedRecipes.indexOf(recipe) != -1 ? 'active' : 'inactive'">
                <div class="col-md-2" style="padding: 0px;">
                    <img class="list-group-item-text img-responsive" ng-show="{{recipe.image.length > 0}}" data-ng-src="{{recipe.image}}" alt="{{recipe.name}}">
                </div>
                <div class="col-md-6" style="padding: 15px; max-height: 100px;">
                    <h4 class="list-group-item-heading">{{recipe.name}}</h4>
                    <p class="list-group-item-text">{{recipe.description}}</p>
                </div>
                <div class="col-md-4" style="padding: 15px;">
                    <h4 class="list-group-item-heading pull-right">{{recipe.price}}</h4>
                </div>
            </div>
        </div>
        <div id="recipeListPagination">
            <pagination id="recipeListPag" total-items="totalItems" items-per-page="numPerPage" data-ng-model="currentPage" num-pages="numPages"
                        class="pagination-sm pull-right" boundary-links="true" rotate="false" max-size="maxSize"></pagination>
        </div>
    </div>
    <div data-ng-class="sidebarIsVisible ? 'col-md-4' : 'col-md-4 collapsed'" style="padding: 0px; transition: margin 0.2s ease;" ng-include src="'recipe-mgmt/html/recipe-sidebar-minimal.html'">
    </div>
</div>
